<app-dashboard>
    <div class="col-md-12 global">
      <h2>Informations necessaires pour l'ajout d'un nouvel utlisateur</h2>
        <form [formGroup]="addUserForm" (submit) ="addNewUser()" >
            <mat-form-field appearance="legacy" class="col-md-6">
              <mat-label>Prenom</mat-label>
              <input matInput placeholder="donner votre prenom" type="text" formControlName ="prenom" required>
              <mat-icon matSuffix color="primary">perm_identity</mat-icon>
            </mat-form-field>
            <mat-form-field appearance="legacy" class="col-md-6">
              <mat-label>Nom</mat-label>
              <input matInput placeholder="donner votre nom" type="text" formControlName ="nom" required>
            </mat-form-field>
            <mat-form-field appearance="legacy" class="col-md-6">
             <mat-error></mat-error>
             <mat-label>Numero de Telephone</mat-label>
             <input matInput placeholder="donner votre telephone" type="text" formControlName ="tel" required>
             <mat-icon matSuffix color="primary">phone_enabled</mat-icon>
             <mat-hint color="warn">Le numero doit commencer par 77 ou 78 ou 76 ou 70 et pas d'espaces</mat-hint>
            </mat-form-field>
            <mat-form-field appearance="legacy" class="col-md-6">
                <mat-label>Email</mat-label>
                <input matInput placeholder="donner votre email" type="email"  formControlName ="email" required>
                <mat-icon matSuffix color="primary">email</mat-icon>
            </mat-form-field>
            <mat-form-field appearance="legacy" class="col-md-6">
                <mat-label> Password</mat-label>
                <input  matInput class="col-md-6" [type]="hide ? 'password' : 'text'" formControlName ="password" required>
                <button mat-icon-button matSuffix (click)="hide = !hide">
                <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                </button>
              <mat-hint color="warn">Le mot de passe doit etre superieur à 6 caractères</mat-hint>
            </mat-form-field>
          <mat-form-field class="col-md-6">
            <mat-label>Role de l'utilisateur</mat-label>
            <mat-select formControlName ="role" >
             <mat-option *ngFor="let role of roles" [value]="role.id">{{role.libelle}}</mat-option>
            </mat-select>
         </mat-form-field>
          <div class="col-md-12 test">
            <button type="submit" mat-raised-button color="primary" class="col-md-5" >Créer l'utilisateur</button>
            <div class="col-md-2 test"></div>
            <button type="reset" mat-raised-button color="warn" class="col-md-5" >Vider les champs</button>
          </div>
  </form>
    </div>
</app-dashboard>
